// Generated by CoffeeScript 1.6.1
(function() {

  $(function() {
    var page_id, project_id;
    if ($('#page-show').length > 0) {
      project_id = $('.navigation').data("project-id");
      page_id = $('.navigation').data("page-id");
      $.ajax('/projects/' + project_id + '/pages/' + page_id + ".json", {
        type: 'GET',
        dataType: 'JSON',
        success: function(data) {
          return $('#display-style button.' + data.device).addClass("active");
        },
        error: function(data) {
          return alert("Error retrieving information from server");
        }
      });
      return $('#display-style button').click(function() {
        $('#display-style button').removeClass("active");
        $(this).addClass("active");
        return $.ajax('/projects/' + project_id + '/pages/' + page_id, {
          type: 'PUT',
          dataType: 'JSON',
          data: {
            page: {
              device: $(this).data("display-mode")
            }
          }
        });
      });
    }
  });

}).call(this);
